
# 📦 InterviewDemo ― 点群転送・可視化のエンドツーエンドデモ

🕓 **最終更新日**：2025年5月8日  
🧑‍💻 **作者**：wandering-bee

---

## 🚀 プロジェクト概要

本リポジトリは、点群生成 → 高速再構成 → GPU描画 → 通信負荷試験までを複数プロセスで連携させた、WinUI3 中心制御型の統合デモアーキテクチャです。
WinUI3 アプリが中心となり、3D ビジュアライザと通信サーバを起動・連携。それぞれ以下のような役割を担います：

- 軽量・シンプルな構成  
- フレームベース送信  
- 局所アルゴリズムによる構造評価  
- 面談・ポートフォリオ用途に最適化済み

> 🧪 本プロジェクトは ViridisNet から抽出された設計パターンを簡素化・再構成した技術検証用サブセットです。

---

## 🧩 モジュール構成

| モジュール名              | 種別         | 役割                              |
|---------------------------|--------------|-----------------------------------|
| `Demo.Showcase.App`       | WinUI3アプリ    | 点群描画クライアント             |
| `Core.VGV`                | WinForms + D3D   | 点群生成・再構成・3D表示・Pipe通信 |
| `Core.Net`                | .NET ライブラリ | TCP/IP 通信の抽象化（接続・フレーム化など）|
| `Core.Server`             | .NET EXE(Console)| 通信応答専用サーバ（負荷テスト用途）|
| `CaptureTrataitsDll`      | C++ DLL      | Core.VGV 内で呼び出される高速再構成エンジン|

---

## 🧠 技術ポイント

- 🧠 WinUI3 × Named Pipe 通信
中心アプリから各プロセスを起動・制御し、状態を双方向同期

- 🧩 点群生成・3D再構成・DirectX描画
Core.VGV にて DLL 経由で点群を生成・再構成し、GPU により描画

- 📶 TCP通信負荷テストサーバ
Core.Server は群発クライアント接続に対応、応答のみ実施

- 🔌 通信抽象ライブラリ Core.Net
Connect/Frame/SendLoop 等の通信機構を統一インタフェースとして提供

---

## 📦 処理フロー
[Demo.Showcase.App]
    ├─ 起動 → Core.VGV.exe（点群生成・再構成・3D描画）
    │        ⇄ Named Pipe（状態・指令同期）
    └─ 起動 → Core.Server.exe（通信ストレステスト）

[Core.VGV]
    ⇓ CaptureTrataitsDll 経由で点群生成
    ⇓ CGALベースの再構成
    ⇓ DirectX によるリアルタイム3D描画

---

## 📊 性能指標

| ステージ                | 処理対象       | 処理時間（参考） |
|------------------------|----------------|------------------|
| 三角形分割（Delaunay）  | 約3万頂点       | 約32ms           |
| 法線＋LUTカラー変換     | 約3万頂点       | 約2ms            |
| GPU転送                | -              | 未計測            |
| 描画（制限なし）        | -              | FPS制限なし       |

### 🔧 最適化の履歴

- 初期実装（NetTopologySuite）: 約380ms  
- 第一段階（OpenCvSharp4）: 約140ms  
- 第二段階（OpenCV 4.11 DLL）: 約82ms  
- 現在（CGAL 実装）: **約32ms**

---

## 🧪 実行方法

1. `CaptureTrataitsDll` を **Visual Studio** にて C++17 DLL としてビルド
2. `Core.Server` を起動（.NET 6 コンソールアプリ）  
  ポート番号・FPS 等は `Properties.Settings` にて調整可能
3. `Demo.Showcase.App` を起動  
  TCPサーバへ自動接続し、点群を描画

---

## 🧰 使用目的・活用シーン

- 📺 **技術ポートフォリオ提示**  
  構成力・性能意識・モジュール性のアピール

- 🔬 **軽量アルゴリズム評価**  
  PCL / Open3D 代替としての定量比較

- 🧩 **アーキテクチャ設計のテンプレート**  
  通信 → 処理 → 表示 の標準構成提示

- 🎓 **教育・研修用教材**  
  点群処理・Socket通信・描画の統合例

---

## 📘 補足事項

- 各モジュール直下の `README.md` はテンプレート状態です。必要に応じて機能・インタフェースごとに記述を追加してください。
- `Core.VGV`（GPUビジュアライザ）は現在未使用ですが、将来的な高速描画対応のために設計済みです。
- 通信はすべて CRLF（`\r\n`）区切りの簡易フレーミングを採用しています。
- `.vsconfig` や `launchSettings.json` などの開発支援ファイルは必要に応じて追加可能です。
